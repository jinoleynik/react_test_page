(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1044:function(e,n,t){},1062:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),s=t(56),o=t.n(s),l=t(74),i=t(75),c=t(80),u=t(76),d=t(79),m=t(1101),f=t(1100),p=t(156),v=t(12),E=t(53),h=t.n(E),b=t(87),g=t.n(b),y=t(33),L=t.n(y),w=t(115),O=t(197),j=t(37),T=t(15),N=t.n(T),q=t(7),k=t.n(q),C=k()(Object(v.b)(function(e){return{theme:e.theme,locale:e.i18n.locale}},{changeLocale:O.d,changeTheme:function(e){return{type:"CHANGE_THEME",payload:e}}}),j.a,N()({label:{width:"10em",display:"inline-block"},button:{margin:"1em"}}))(function(e){var n=e.classes,t=e.theme,a=e.locale,s=e.changeTheme,o=e.changeLocale,l=e.translate;return r.a.createElement(h.a,null,r.a.createElement(w.a,{title:l("pos.configuration")}),r.a.createElement(g.a,null,r.a.createElement("div",{className:n.label},l("pos.theme.name")),r.a.createElement(L.a,{variant:"raised",className:n.button,color:"light"===t?"primary":"default",onClick:function(){return s("light")}},l("pos.theme.light")),r.a.createElement(L.a,{variant:"raised",className:n.button,color:"dark"===t?"primary":"default",onClick:function(){return s("dark")}},l("pos.theme.dark"))),r.a.createElement(g.a,null,r.a.createElement("div",{className:n.label},l("pos.language")),r.a.createElement(L.a,{variant:"raised",className:n.button,color:"en"===a?"primary":"default",onClick:function(){return o("en")}},"en"),r.a.createElement(L.a,{variant:"raised",className:n.button,color:"es"===a?"primary":"default",onClick:function(){return o("es")}},"es")))}),S=[r.a.createElement(p.a,{exact:!0,path:"/configuration",component:C})],R=t(276),M=function(e,n){if(e===R.a)return localStorage.getItem("token")?Promise.resolve():Promise.reject();if(e===R.b)return console.log(n),Promise.resolve();if(e===R.e)return localStorage.removeItem("token"),Promise.resolve();if(e===R.d){var t=n.username,a=n.password;console.log("LOGIN = https://redhouse-api.herokuapp.com");var r=new Request("https://redhouse-api.herokuapp.com/api/token-auth/",{method:"POST",body:JSON.stringify({email:t,password:a}),headers:new Headers({"Content-Type":"application/json"})});return fetch(r).then(function(e){if(e.status<200||e.status>=300)throw new Error(e.statusText);return e.json()}).then(function(e){var n=e.token,a=e.role;a?localStorage.setItem("role",a):"terence@superteam.io"===t?localStorage.setItem("role","Admin"):"jinoleynik@gmail.com"===t?localStorage.setItem("role","Teacher"):localStorage.removeItem("role"),localStorage.setItem("token",n)})}if(e===R.c){var s=localStorage.getItem("role");return s?Promise.resolve(s):Promise.reject()}return Promise.reject("Unknown method")},x=t(1076),I=t(507),G=function(e){return r.a.createElement(x.a,Object.assign({backgroundImage:"/bg.jpg",loginForm:r.a.createElement(I.a,null)},e))},$=t(381),A=t.n($),D=t(36),P=t(511),_=t(20),Q=t(91),U=t(1077),V=t(143),B=t.n(V),z=t(144),J=t.n(z),H=t(188),F=t.n(H),W=t(284),Y=t.n(W),K=t(5),Z=k()(Object(K.withStyles)({rowGray:{backgroundColor:"rgba(100,100,100,0.2)"},headerWhite:{backgroundColor:"-internal-root-color"}}),j.a)(function(e){var n=e.translate,t=e.classes,a=e.list,s=e.title,o=e.className,l=e.showValue,i=void 0===l?function(e){return e.name}:l;return r.a.createElement(h.a,{className:o},r.a.createElement(B.a,{subheader:r.a.createElement(Y.a,{className:t.headerWhite,component:"div"},n(s)),component:"nav"},(a||[]).map(function(e,n){return r.a.createElement(J.a,{key:s+"_"+n,className:n%2?t.rowGray:""},r.a.createElement(F.a,{primary:i(e)}))})))}),X=t(71),ee=t(288),ne=t.n(ee),te=function(e){var n=e.data,t=e.className,a=e.title;return r.a.createElement(h.a,{className:t},r.a.createElement(ne.a,{subheader:a}),r.a.createElement(X.f,{width:400,height:300},r.a.createElement(X.e,{label:!0,data:n,dataKey:"value",cx:200,cy:150,labelLine:!0,outerRadius:100}),r.a.createElement(X.g,null),r.a.createElement(X.b,null)))},ae=function(e){var n=e.data,t=void 0===n?[]:n,a=e.className,s=e.title;return r.a.createElement(h.a,{className:a},r.a.createElement(ne.a,{subheader:s}),r.a.createElement(X.d,{width:400,height:300,data:t},r.a.createElement(X.h,{dataKey:"name"}),r.a.createElement(X.i,null),r.a.createElement(X.a,{strokeDasharray:"3 3"}),r.a.createElement(X.g,null),r.a.createElement(X.b,null),r.a.createElement(X.c,{type:"monotone",dataKey:"lessonsPassed",stroke:"#82ca9d"})))},re=(t(960),function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){this.fetchCounter()}},{key:"fetchCounter",value:function(){var e=Object(P.a)(A.a.mark(function e(){var n,t,a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.props.dataProvider,e.next=3,n(_.g,"Dashboard");case 3:t=e.sent,a=t.data,this.setState(Object(D.a)({},a));case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,n=e.announcements,t=e.lessons,a=e.students,s=e.grades,o=e.lessonProgress,l=this.props.translate,i=r.a.createElement(Z,{list:n,className:"fixed-height",showValue:function(e){return e.date.toLocaleString()+" - "+e.message},title:"resources.dashboard.announcements"});return r.a.createElement("div",null,r.a.createElement(w.a,{title:"resources.dashboard.title"}),r.a.createElement(g.a,null,r.a.createElement(Q.a,{small:r.a.createElement("div",{className:"flex-col"},i,r.a.createElement(Z,{className:"fixed-height top-space",title:"resources.student.myStudents",showValue:function(e){return e.profile.firstName+" "+e.profile.lastName},list:a}),r.a.createElement(Z,{className:"fixed-height top-space",title:"resources.lesson.myLessons",list:t}),r.a.createElement(te,{data:s,className:"top-space",title:l("resources.dashboard.grades")}),r.a.createElement(ae,{data:o,className:"top-space",title:l("resources.dashboard.lessonProgress")})),medium:r.a.createElement("div",null,i,r.a.createElement("div",{className:"flex-row"},r.a.createElement(Z,{className:"fixed-height left-col",title:"resources.student.myStudents",showValue:function(e){return e.profile.firstName+" "+e.profile.lastName},list:a}),r.a.createElement(Z,{className:"fixed-height right-col",title:"resources.lesson.myLessons",list:t})),r.a.createElement("div",{className:"flex-row"},r.a.createElement(te,{data:s,className:"left-col",title:l("resources.dashboard.grades")}),r.a.createElement(ae,{data:o,className:"right-col",title:l("resources.dashboard.lessonProgress")})))})))}}]),n}(a.Component)),se=k()(Object(v.b)(function(e){return{version:e.admin.ui.viewVersion}}),U.a,j.a)(re),oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light",n=arguments.length>1?arguments[1]:void 0,t=n.type,a=n.payload;return"CHANGE_THEME"===t?a:e},le=t(150),ie=t.n(le),ce=Object(D.a)({},ie.a,{pos:{configuration:"Configuration",language:"Language",theme:{name:"Theme",light:"Light",dark:"Dark"},menu:{users:"Users",lessons:"Lessons"}},resources:{dashboard:{title:"RedHouse - Virtual Education",announcements:"Announcements",lessonProgress:"Lesson progress",grades:"Grades"},name:"Name",modelName:"Model Name",description:"Description",code:"Code",info:"Info",teacher:{name:"Teacher |||| Teachers",title:"Teachers"},student:{name:"Student |||| Students",title:"Students",myStudents:"My Students",edit:"Edit Student %{reference}"},review:{name:"Review |||| Reviews",title:"Reviews",label:"Review",create:"Create Review",edit:"Edit Review"},question:{name:"Question |||| Questions",title:"Questions",label:"Question",create:"Create Question",edit:"Edit Question"},classroom:{name:"Classroom |||| Classrooms",title:"Classrooms",numberStudents:"Number of Students",numberLessons:"Number of Lessons",teacher:"Teacher"},lesson:{name:"Lesson |||| Lessons",title:"Lessons",label:"Lesson",myLessons:"My Lessons",edit:"Edit Lesson %{reference}"},lessonModel:{name:"Lesson Model |||| Lesson Models",title:"Lesson Models",create:"Create Lesson Model",edit:"Edit Lesson Model %{reference}",shape:"Shape"},lessonGroup:{name:"Lesson Group |||| Lesson Groups",title:"Lesson Groups"}}}),ue=t(148),de=t(379),me=t(268),fe=t(521),pe=t(17),ve=t(16),Ee=t.n(ve);function he(){var e=Object(pe.a)(["mutation updateLesson($lesson: LessonUpdateGenericType!) {\n           updateLesson(newLesson: $lesson) {\n            ok\n            lesson{\n              id\n              lesson\n              model{\n                id\n                name\n                code\n                description\n              }\n            }         \n          }\n        }"]);return he=function(){return e},e}function be(){var e=Object(pe.a)(["mutation createLesson($lesson: LessonCreateGenericType!) {\n          createLesson(newLesson: $lesson) {\n            ok\n            lesson{\n              id\n              lesson\n              model{\n                id\n                name\n                code\n                description\n              }\n            }         \n          }\n        }"]);return be=function(){return e},e}function ge(){var e=Object(pe.a)(["query allLessons {\n          allLessons {\n            id\n            model{\n              id\n              name\n              code\n              description\n            }\n            lesson\n          }\n        }"]);return ge=function(){return e},e}function ye(){var e=Object(pe.a)(["query allLessons {\n          allLessons {\n            id\n            model{\n              id\n              name\n              code\n              description\n            }\n            lesson\n          }\n        }"]);return ye=function(){return e},e}function Le(){var e=Object(pe.a)(["query lesson ($id: Int) {\n          lesson(id: $id) {\n            id\n            model{\n              id\n              name\n              code\n              description\n            }\n            lesson\n          }\n        }"]);return Le=function(){return e},e}function we(){var e=Object(pe.a)(["mutation deleteClassroom($id: ID!) {\n            deleteClassroom(id: $id){\n              ok\n            }\n          }"]);return we=function(){return e},e}function Oe(){var e=Object(pe.a)(["mutation updateClassroom($classroom: UpdateClassRoomInput) {\n          updateClassroom(classroom: $classroom) {\n            ok\n            classroom{\n              id\n              name\n              subject\n              teacher{\n                profile{\n                  id\n                  firstName\n                  lastName\n                }\n              }\n              students{\n                 profile{\n                  id\n                  firstName\n                  lastName\n                }\n              }\n              lessons{\n                id\n                name\n              }\n            }\n          }\n        }"]);return Oe=function(){return e},e}function je(){var e=Object(pe.a)(["mutation createClassroom($classroom: ClassRoomInput) {\n          createClassroom(classroom: $classroom) {\n            ok\n            classroom{\n              id\n              name\n              subject\n              teacher{\n                profile{\n                  id\n                  firstName\n                  lastName\n                }\n              }\n              students{\n                 profile{\n                  id\n                  firstName\n                  lastName\n                }\n              }\n              lessons{\n                id\n                name\n              }\n            }\n          }\n        }"]);return je=function(){return e},e}function Te(){var e=Object(pe.a)(["query allClassrooms {\n          allClassrooms {\n            id\n            name\n            subject\n            teacher{\n              profile{\n                id\n                firstName\n                lastName\n              }\n            }\n            students {\n              profile{\n                id\n              }\n            }        \n            lessons{\n              id\n              name\n            }\n          }\n        }"]);return Te=function(){return e},e}function Ne(){var e=Object(pe.a)(["query classroom ($id: Int) {\n          classroom(id: $id) {\n            id\n            name\n            subject\n            teacher{\n              profile{\n                id\n              }\n            }\n            students{\n              profile{\n                id\n              }\n            }\n            lessons{\n              id\n            }\n          }\n        }"]);return Ne=function(){return e},e}function qe(){var e=Object(pe.a)(["mutation deleteLessonModel($id: ID!) {\n          deleteLessonModel(id: $id){\n            ok\n          }\n        }"]);return qe=function(){return e},e}function ke(){var e=Object(pe.a)(["mutation updateLessonModel($lessonModel: LessonModelUpdateGenericType!) {\n          updateLessonModel(newLessonmodel: $lessonModel) {\n            ok\n            lessonmodel {\n              id\n              code\n              name\n              thumbnail\n              description\n            }\n          }\n        }"]);return ke=function(){return e},e}function Ce(){var e=Object(pe.a)(["mutation createLessonModel($newLessonModel: LessonModelCreateGenericType!){\n              createLessonModel(newLessonmodel: $newLessonModel){\n                 ok\n                lessonmodel{\n                  id\n                  code\n                  name\n                  thumbnail\n                  description      \n                }\n              }\n            }"]);return Ce=function(){return e},e}function Se(){var e=Object(pe.a)(["query allLessonModels {\n            allLessonModels {\n              id\n              code\n              name\n              description\n            }\n          }"]);return Se=function(){return e},e}function Re(){var e=Object(pe.a)(["query allLessonModels {\n            allLessonModels {\n              id\n              code\n              name\n              description\n              thumbnail\n            }\n          }"]);return Re=function(){return e},e}function Me(){var e=Object(pe.a)(["query lessonModel ($id: Int) {\n          lessonModel(id: $id) {\n            id\n            name\n            code\n            description\n            thumbnail\n          }\n        }"]);return Me=function(){return e},e}function xe(){var e=Object(pe.a)(["mutation deleteLessonGroup($id: ID!) {\n              deleteLessonGroup(id: $id){\n                ok\n              }\n            }"]);return xe=function(){return e},e}function Ie(){var e=Object(pe.a)(["mutation updateLessonGroup($newLessongroup: LessonGroupUpdateGenericType!){\n            updateLessonGroup(newLessongroup: $newLessongroup) {\n              ok\n              errors{\n                messages\n              }\n              lessongroup{\n                id\n                name         \n              }\n            }\n          }"]);return Ie=function(){return e},e}function Ge(){var e=Object(pe.a)(["mutation createLessonGroup($newLessongroup: LessonGroupCreateGenericType!){\n          createLessonGroup(newLessongroup: $newLessongroup) {\n            ok\n            errors{\n              messages\n            }\n            lessongroup{\n              id\n              name              \n            }\n          }\n        }"]);return Ge=function(){return e},e}function $e(){var e=Object(pe.a)(["query allLessonGroups {\n            allLessonGroups {\n              id\n              name\n            }\n          }"]);return $e=function(){return e},e}function Ae(){var e=Object(pe.a)(["query allLessonGroups {\n        allLessonGroups {\n          id\n          name\n          lesson{\n            id\n            model{\n              id\n              name\n            }\n          }\n        }\n      }"]);return Ae=function(){return e},e}function De(){var e=Object(pe.a)(["query lessonGroup ($id: Int) {\n        lessonGroup (id: $id) {\n          id\n          name\n          lesson {\n            id\n            lesson\n            model{\n              id\n              name\n              code\n              description\n            }\n          }\n          question {\n            id\n            question\n          }\n          review {\n            id\n            review\n          }\n        }\n      }"]);return De=function(){return e},e}function Pe(){var e=Object(pe.a)(["mutation deleteLessonQuestion($id: ID!) {\n          deleteLessonQuestion(id: $id){\n            ok\n          }\n        }"]);return Pe=function(){return e},e}function _e(){var e=Object(pe.a)(["mutation updateLessonQuestion($newLessonquestion: LessonQuestionUpdateGenericType!){\n          updateLessonQuestion(newLessonquestion: $newLessonquestion){\n            ok\n            errors{\n              messages\n              field\n            }\n            lessonquestion{\n              id\n              question\n              model{\n                id\n                name\n              }\n            }\n          }\n        }"]);return _e=function(){return e},e}function Qe(){var e=Object(pe.a)(["mutation createQuestion($newLessonquestion: LessonQuestionCreateGenericType!) {\n          createLessonQuestion(newLessonquestion: $newLessonquestion) {\n            ok\n            lessonquestion{\n              id\n              question\n              model{\n                id\n                name\n              }\n            }\n            errors{\n              field\n              messages\n            }\n          }\n        }"]);return Qe=function(){return e},e}function Ue(){var e=Object(pe.a)(["query allQuestions($idList: [ID]) {\n            allQuestions(idList: $idList) {\n              id\n              question\n              model{\n                id\n                name\n              }\n            }\n          }"]);return Ue=function(){return e},e}function Ve(){var e=Object(pe.a)(["query allQuestions {\n          allQuestions {\n            id\n            question\n            model{\n              id\n              name\n            }\n          }\n        }"]);return Ve=function(){return e},e}function Be(){var e=Object(pe.a)(["query question ($id: Int) {\n          question (id: $id) {\n            id\n            question\n            model{\n              id\n              name\n            }\n          }\n        }"]);return Be=function(){return e},e}function ze(){var e=Object(pe.a)(["mutation deleteLessonReview($id: ID!) {\n        deleteLessonReview(id: $id){\n            ok\n          }\n        }"]);return ze=function(){return e},e}function Je(){var e=Object(pe.a)(["mutation updateLessonReview($newLessonreview: LessonReviewUpdateGenericType!){\n            updateLessonReview(newLessonreview: $newLessonreview){\n                ok\n                errors{\n                  messages\n                  field\n                }\n                lessonreview{\n                  id\n                  review\n                  model{\n                    id\n                    name\n                  }\n                }\n              }\n            }"]);return Je=function(){return e},e}function He(){var e=Object(pe.a)(["mutation createReview($newLessonreview: LessonReviewCreateGenericType!) {\n          createLessonReview(newLessonreview: $newLessonreview) {\n            ok\n            lessonreview{\n              id\n              review\n              model{\n                id\n                name\n              }\n            }\n            errors{\n              field\n              messages\n            }\n          }\n        }"]);return He=function(){return e},e}function Fe(){var e=Object(pe.a)(["query allQuestions($idList: [ID]) {\n                allQuestions(idList: $idList) {\n                  id\n                  question\n                  model{\n                    id\n                    name\n                  }\n                }\n              }"]);return Fe=function(){return e},e}function We(){var e=Object(pe.a)(["query allReviews {\n          allReviews {\n            id\n            review\n            model{\n              id\n              name\n            }\n          }\n        }"]);return We=function(){return e},e}function Ye(){var e=Object(pe.a)(["query review ($id: Int) {\n          review (id: $id) {\n            id\n            review\n            model{\n              id\n              name\n            }\n          }\n        }"]);return Ye=function(){return e},e}function Ke(){var e=Object(pe.a)(["mutation deleteStudent($id: ID!) {\n                      deleteStudent(id: $id){\n                        ok\n                      }\n                    }"]);return Ke=function(){return e},e}function Ze(){var e=Object(pe.a)(["mutation updateStudent($id: ID!, $student: UserUpdateInput){\n                  updateStudent(id: $id, profile: $student) {\n                    student{\n                      profile{\n                        id\n                        email\n                        firstName\n                        lastName\n                      }\n                    }\n                  } \n                }"]);return Ze=function(){return e},e}function Xe(){var e=Object(pe.a)(["mutation createStudent($student: UserInput){\n                createStudent(student: $student)  {\n                  student{\n                    profile{\n                      id\n                      email\n                      firstName\n                      lastName\n                    }\n                  }\n                }\n              }"]);return Xe=function(){return e},e}function en(){var e=Object(pe.a)(["query allStudents{\n                allStudents {\n                   profile{\n                    id\n                    email\n                    firstName\n                    lastName\n                  }\n                }\n              }"]);return en=function(){return e},e}function nn(){var e=Object(pe.a)(["query allStudents{\n                allStudents {\n                   profile{\n                    id\n                    email\n                    firstName\n                    lastName\n                  }\n                }\n              }"]);return nn=function(){return e},e}function tn(){var e=Object(pe.a)(["query student($id: Int ){\n            student(id: $id) {\n               profile{\n                id\n                email\n                firstName\n                lastName\n              }\n            }\n          }"]);return tn=function(){return e},e}function an(){var e=Object(pe.a)(["query getCounts{\n          allStudents {\n             profile{\n              id\n              firstName\n              lastName\n            }\n          }           \n          allLessonModels{\n            id\n            name\n          }    \n        }"]);return an=function(){return e},e}var rn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return~~(Math.random()*e)},sn=function(){for(var e=[],n=new Date,t=0;t<7;t++){var a=new Date;a.setDate(n.getDate()-7+t);var r=a.toLocaleDateString();e.push({name:r.substr(0,r.lastIndexOf("/")),lessonsPassed:rn(10)})}return e},on=function(){for(var e=[],n=0;n<10;n++)e.push({id:n,date:new Date,message:"New model has been created "+n});return e};function ln(){var e=Object(pe.a)(["mutation updateTeacher($id: ID!, $teacher: UserUpdateInput){\n                  updateTeacher(id: $id, profile: $teacher) {\n                    teacher{\n                      profile{\n                        id\n                        email\n                        firstName\n                        lastName\n                      }\n                    }\n                  } \n                }"]);return ln=function(){return e},e}function cn(){var e=Object(pe.a)(["query allTeachers{\n                allTeachers {\n                  profile{\n                    id\n                    email\n                    firstName\n                    lastName\n                  }\n                  classroomSet{\n                    id\n                    name\n                  }\n                }\n              }"]);return cn=function(){return e},e}function un(){var e=Object(pe.a)(["query allTeachers{\n              allTeachers {\n                profile{\n                  id\n                  email\n                  firstName\n                  lastName\n                }\n                classroomSet{\n                  id\n                  name\n                }\n              }\n            }"]);return un=function(){return e},e}function dn(){var e=Object(pe.a)(["query teacher($id: Int ){\n            teacher(id: $id) {\n               profile{\n                id\n                email\n                firstName\n                lastName\n              }\n              classroomSet{\n                id\n                name\n              }\n            }\n          }"]);return dn=function(){return e},e}var mn={Lesson:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(Le()),variables:n,parseResponse:function(e){var n=e.data.lesson;return{data:Object(D.a)({model:n.model.id},n)}}};case"GET_LIST":return{query:Ee()(ye()),variables:n,parseResponse:function(e){return{data:e.data.allLessons,total:e.data.allLessons.length}}};case"GET_MANY":return{query:Ee()(ge()),variables:n,parseResponse:function(e){var t=e.data.allLessons.filter(function(e){return-1!==n.ids.indexOf(e.id)});return{data:t,total:t.length}}};case"CREATE":return{query:Ee()(be()),variables:{lesson:{model:n.data.model,lesson:JSON.stringify(n.data.lesson)}},parseResponse:function(e){var n=e.data.createLesson.lesson;return{data:Object(D.a)({model:n.model.id},n)}}};case"UPDATE":return{query:Ee()(he()),variables:{lesson:{id:n.data.id,model:n.data.model.id,lesson:JSON.stringify(n.data.lesson)}},parseResponse:function(e){var n=e.data.updateLesson.lesson;return{data:Object(D.a)({model:n.model.id},n)}}};default:return{}}},Classroom:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(Ne()),variables:n,parseResponse:function(e){var n=e.data.classroom,t=n.students.map(function(e){return e.profile.id});return{data:{id:n.id,name:n.name,teacher:n.teacher.profile.id,students:t}}}};case"GET_LIST":return{query:Ee()(Te()),variables:n,parseResponse:function(e){return{data:e.data.allClassrooms,total:e.data.allClassrooms.length}}};case"CREATE":return{query:Ee()(je()),variables:{classroom:n.data},parseResponse:function(e){return{data:e.data.createClassroom.classroom}}};case"UPDATE":return{query:Ee()(Oe()),variables:{classroom:{id:n.data.id,lessons:n.data.lessons,name:n.data.name,students:n.data.students,teacher:n.data.teacher,subject:n.data.subject}},parseResponse:function(e){return{data:e.data.updateClassroom.classroom}}};case"DELETE":return{query:Ee()(we()),variables:{id:n.id},parseResponse:function(e){return{data:{id:n.id,result:e.data.deleteClassroom.ok}}}};default:return{}}},LessonModel:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(Me()),variables:n,parseResponse:function(e){var n=e.data.lessonModel;return{data:Object(D.a)({codeModel:{code:n.code,thumbnail:n.thumbnail}},n)}}};case"GET_LIST":return{query:Ee()(Re()),variables:n,parseResponse:function(e){return{data:e.data.allLessonModels,total:e.data.allLessonModels.length}}};case"GET_MANY":return{query:Ee()(Se()),variables:n,parseResponse:function(e){var t=e.data.allLessonModels.filter(function(e){return-1!==n.ids.indexOf(e.id)});return{data:t,total:t.length}}};case"CREATE":return{query:Ee()(Ce()),variables:{newLessonModel:{id:n.data.id,name:n.data.name,description:n.data.description,code:n.data.codeModel.code,thumbnail:n.data.codeModel.thumbnail}},parseResponse:function(e){return{data:e.data.createLessonModel.lessonmodel}}};case"UPDATE":return{query:Ee()(ke()),variables:{lessonModel:{id:n.data.id,name:n.data.name,description:n.data.description,code:n.data.codeModel.code,thumbnail:n.data.codeModel.thumbnail}},parseResponse:function(e){return{data:e.data.updateLessonModel.lessonmodel}}};case"DELETE":return{query:Ee()(qe()),variables:{id:n.id},parseResponse:function(e){return{data:{id:n.id,result:e.data.deleteLessonModel.ok}}}};default:return{}}},LessonGroup:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(De()),variables:n,parseResponse:function(e){return{data:e.data.lessonGroup}}};case"GET_LIST":return{query:Ee()(Ae()),variables:n,parseResponse:function(e){return{data:e.data.allLessonGroups,total:e.data.allLessonGroups.length}}};case"GET_MANY":return{query:Ee()($e()),variables:n,parseResponse:function(e){var t=e.data.allLessonGroups.filter(function(e){return-1!==n.ids.indexOf(e.id)});return{data:t,total:t.length}}};case"CREATE":return{query:Ee()(Ge()),variables:{newLessongroup:n.data},parseResponse:function(e){return{data:e.data.createLessonGroup.lessongroup}}};case"UPDATE":return{query:Ee()(Ie()),variables:{newLessongroup:{id:n.data.id}},parseResponse:function(e){return{data:e.data.updateLessonGroup.lessongroup}}};case"DELETE":return{query:Ee()(xe()),variables:{id:n.id},parseResponse:function(e){return{data:{id:n.id,result:e.data.deleteLessonGroup.ok}}}};default:return{}}},Question:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(Be()),variables:n,parseResponse:function(e){var n=e.data.question;return{data:Object(D.a)({model:n.model.id},n)}}};case"GET_LIST":return{query:Ee()(Ve()),variables:n,parseResponse:function(e){return{data:e.data.allQuestions,total:e.data.allQuestions.length}}};case"GET_MANY":return{query:Ee()(Ue()),variables:{idList:n.ids},parseResponse:function(e){return{data:e.data.allQuestions,total:e.data.allQuestions.length}}};case"CREATE":return{query:Ee()(Qe()),variables:{newLessonquestion:{model:n.data.model,question:JSON.stringify(n.data.question)}},parseResponse:function(e){var n=e.data.createLessonQuestion.lessonquestion;return{data:Object(D.a)({model:n.model.id},n)}}};case"UPDATE":return{query:Ee()(_e()),variables:{newLessonquestion:{id:n.data.id,model:n.data.model.id,question:JSON.stringify(n.data.question)}},parseResponse:function(e){var n=e.data.updateLessonQuestion.lessonquestion;return{data:Object(D.a)({model:n.model.id},n)}}};case"DELETE":return{query:Ee()(Pe()),variables:{id:n.id},parseResponse:function(e){return{data:{id:n.id,result:e.data.deleteLessonQuestion.ok}}}};default:return{}}},Review:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(Ye()),variables:n,parseResponse:function(e){var n=e.data.review;return{data:Object(D.a)({model:n.model.id},n)}}};case"GET_LIST":return{query:Ee()(We()),variables:n,parseResponse:function(e){return{data:e.data.allReviews||[],total:(e.data.allReviews||[]).length}}};case"GET_MANY":return{query:Ee()(Fe()),variables:{idList:n.ids},parseResponse:function(e){return{data:e.data.allQuestions,total:e.data.allQuestions.length}}};case"CREATE":return{query:Ee()(He()),variables:{newLessonreview:{model:n.data.model,review:JSON.stringify(n.data.review)}},parseResponse:function(e){var n=e.data.createLessonReview.lessonreview;return{data:Object(D.a)({model:n.model.id},n)}}};case"UPDATE":return{query:Ee()(Je()),variables:{newLessonreview:{id:n.data.id,model:n.data.model.id,review:JSON.stringify(n.data.review)}},parseResponse:function(e){var n=e.data.updateLessonReview.lessonreview;return{data:Object(D.a)({model:n.model.id},n)}}};case"DELETE":return{query:Ee()(ze()),variables:{id:n.id},parseResponse:function(e){return{data:{id:n.id,result:e.data.deleteLessonReview.ok}}}};default:return{}}},Student:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(tn()),variables:n,parseResponse:function(e){return{data:e.data.student.profile}}};case"GET_MANY":return{query:Ee()(nn()),variables:n,parseResponse:function(e){var t=e.data.allStudents.filter(function(e){return-1!==n.ids.indexOf(e.profile.id)}).map(function(e){return Object(D.a)({},e.profile)});return{data:t,total:t.length}}};case"GET_LIST":return{query:Ee()(en()),variables:n,parseResponse:function(e){var n=e.data.allStudents.map(function(e){return e.profile});return{data:n,total:n.length}}};case"CREATE":return{query:Ee()(Xe()),variables:{student:n.data},parseResponse:function(e){return{data:e.data.createStudent.student.profile}}};case"UPDATE":return{query:Ee()(Ze()),variables:{id:n.id,student:{email:n.data.email,firstName:n.data.firstName,lastName:n.data.lastName,password:n.data.password}},parseResponse:function(e){return console.log(e),{data:e.data.updateStudent.student.profile}}};case"DELETE":return{query:Ee()(Ke()),variables:{id:n.id},parseResponse:function(e){return{data:{id:n.id,result:e.data.deleteStudent.ok}}}};default:return{}}},Dashboard:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(an()),variables:n,parseResponse:function(e){return{data:{id:0,announcements:on(),grades:["#1b3a6b","#2757a3","#2e67c1","#3376e0"].map(function(e,n){return{value:rn(),name:"Grade "+n,fill:e}}),lessonProgress:sn(),students:e.data.allStudents,lessons:e.data.allLessonModels}}}};default:return{}}},Teacher:function(e,n){switch(e){case"GET_ONE":return{query:Ee()(dn()),variables:n,parseResponse:function(e){var n=e.data.teacher,t=n.profile,a=n.classroomSet;return{data:Object(D.a)({},t,{classroomSet:a})}}};case"GET_LIST":return{query:Ee()(un()),variables:n,parseResponse:function(e){var n=e.data.allTeachers.map(function(e){return Object(D.a)({},e.profile,{classroomSet:e.classroomSet})});return{data:n,total:n.length}}};case"GET_MANY":return{query:Ee()(cn()),variables:n,parseResponse:function(e){var t=e.data.allTeachers.filter(function(e){return-1!==n.ids.indexOf(e.profile.id)}).map(function(e){return Object(D.a)({},e.profile,{classroomSet:e.classroomSet})});return{data:t,total:t.length}}};case"UPDATE":return{query:Ee()(ln()),variables:{id:n.id,teacher:{email:n.data.email,firstName:n.data.firstName,lastName:n.data.lastName,password:n.data.password}},parseResponse:function(e){return console.log(e),{data:e.data.updateStudent.student.profile}}};default:return{}}}},fn=t(577),pn=function(){return function(e,n,t){return mn[n]?mn[n](e,t):null}},vn=Object(fe.a)(function(e,n){var t=n.headers,a=localStorage.getItem("token");return{headers:Object(D.a)({},t,{authorization:a?"Token ".concat(a):""})}}),En=new ue.ApolloClient({link:vn.concat(Object(de.createHttpLink)({uri:"https://redhouse-api.herokuapp.com/graphql_private"})),cache:new me.InMemoryCache}),hn=function(e){return r.a.createElement("div",{style:{right:0,bottom:0,left:0,zIndex:100,padding:"1em",textAlign:"center"}},e.text)},bn=t(1102),gn=t(1104),yn=t(1080),Ln=t(1081),wn=t(1106),On=t(1083),jn=t(1084),Tn=t(1085),Nn=t(1086),qn=t(1087),kn=t(1109),Cn=t(392),Sn=(t(490),t(113)),Rn=t.n(Sn),Mn=t(526),xn=t.n(Mn),In=t(269),Gn=t(131),$n=t(201),An="AIzaSyD6NmC_Gz35LViW1xPoGbTsvirDQTK2hMo",Dn=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(c.a)(this,Object(u.a)(n).call(this,e))).loadAssetByCode=function(e){var n="https://poly.googleapis.com/v1/".concat(e,"?key=").concat(An);fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){e&&(t.createObj(e),t.setState({asset:e}))})},t.start=function(){t.frameId||(t.frameId=requestAnimationFrame(t.animate))},t.animate=function(){var e=performance.now()/5e3;t.camera.position.x=5*Math.sin(e),t.camera.position.z=5*Math.cos(e),t.camera.lookAt(0,1.5,0),t.renderer.render(t.scene,t.camera),t.frameId=requestAnimationFrame(t.animate)},t.createObj=function(e){var n=Object(In.a)(t);t.isLoading=!0;var a=e.formats.find(function(e){return"OBJ"===e.formatType}),r=a.root,s=a.resources.find(function(e){return e.url.endsWith("mtl")}),o=r.url.slice(0,r.url.indexOf(r.relativePath)),l=new $n.c;l.setCrossOrigin(!0),l.setMaterialOptions({ignoreZeroRGBs:!0}),l.setResourcePath(o),l.load(s.url,function(e){var t=new $n.d;t.setMaterials(e),t.load(r.url,function(e){var t=new $n.a;t.setFromObject(e);var a=t.getCenter();a.y=t.min.y,e.position.sub(a);var r=new $n.b;r.add(e),r.scale.setScalar(6/t.getSize().length());for(var s=n.container;s.children.length;)s.remove(s.children[0]);s.add(r),n.isLoading=!1})})},t.state={},t.frameId=null,t.scene=new Gn.f,t.container=null,t.camera=null,t.renderer=null,t.isLoading=!1,t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props,n=e.width,t=e.height,a=document.getElementById("modelViewer"),r=n||600,s=t||600;this.camera=new Gn.e(60,r/s,.01,100),this.renderer=new Gn.g,this.container=new $n.b,this.scene.add(this.container),this.camera.position.set(5,3,5),this.camera.lookAt(0,1.5,0),this.scene.background=new Gn.a(2236962),this.scene.add(new Gn.c(10,10));var o=new Gn.d(12303359,8939110,.75);o.position.set(-.5,.75,-1),this.scene.add(o);var l=new Gn.b(16777215,.75);l.position.set(1,.75,.5),this.scene.add(l),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(r,s),a.appendChild(this.renderer.domElement),this.start(),this.props.assetUrl&&this.loadAssetByCode(this.props.assetUrl)}},{key:"render",value:function(){var e=this.state.asset,n=this.props.showInfo;return r.a.createElement("div",null,r.a.createElement("div",{id:"modelViewer"}),e&&n&&r.a.createElement("div",null,r.a.createElement("p",null,e.authorName),r.a.createElement("p",null,e.displayName),r.a.createElement("p",null,e.description)))}},{key:"shouldComponentUpdate",value:function(e,n){return n.asset!==this.state.asset&&e.asset?this.createObj(e.asset):e.assetUrl&&this.state.assetUrl!==e.assetUrl&&this.loadAssetByCode(e.assetUrl),n.asset!==this.state.asset||!!e.assetUrl&&this.state.assetUrl!==e.assetUrl}}],[{key:"getDerivedStateFromProps",value:function(e,n){return{assetUrl:e.assetUrl,asset:e.asset}}}]),n}(a.Component),Pn=t(525),_n=t.n(Pn),Qn="AIzaSyD6NmC_Gz35LViW1xPoGbTsvirDQTK2hMo",Un=function(e){function n(e){var t;return Object(l.a)(this,n),(t=Object(c.a)(this,Object(u.a)(n).call(this,e))).renderAssets=function(){var e=t.state,n=e.assets,a=e.nextPageToken,s=[];if(n.forEach(function(e){var n=r.a.createElement("img",{onClick:t.onItemClick,"data-id":e.name,className:"poly-thumbnail",key:e.name,src:e.thumbnail.url,alt:e.displayName});s.push(n)}),a){var o=r.a.createElement("span",{key:"loadMore",className:"poly-thumbnail"},r.a.createElement(_n.a,{className:"poly-thumbnail",onClick:t.loadMore}));s.push(o)}return s.length?r.a.createElement("div",null,r.a.createElement("hr",null),r.a.createElement("span",null,s)):null},t.loadMore=function(){var e=t.state.query;t.loadPoly(e,!0)},t.onItemClick=function(e){var n=t.state.assets,a=t.props.input.onChange,r=e.target.getAttribute("data-id");if(console.log(e),n&&r){var s=n.find(function(e){return e.name===r});s&&(a&&a({code:s.code,thumbnail:s.thumbnail.url}),t.setState({currentAsset:s}))}},t.loadAssetByCode=function(e){var n="https://poly.googleapis.com/v1/".concat(e,"?key=").concat(Qn);fetch(n,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e),e&&t.setState({currentAsset:e})})},t.search=function(e){e.preventDefault();var n=t.state.query;t.loadPoly(n,!1)},t.loadPoly=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a="https://poly.googleapis.com/v1/assets?keywords=".concat(e,"&pageSize=20&format=OBJ&key=").concat(Qn);n&&t.state.nextPageToken&&(a+="&pageToken="+t.state.nextPageToken),fetch(a,{method:"GET",headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){console.log(e);var a=e.assets,r=t.state.currentAsset;n?a=[].concat(Object(Cn.a)(t.state.assets),Object(Cn.a)(e.assets)):r=null,t.setState({currentAsset:r,assets:a,nextPageToken:e.nextPageToken,totalSize:e.totalSize})})},t.state={query:"car",assets:[]},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.input.value;e&&e.code&&this.loadAssetByCode(e.code)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("div",{className:"search-inputs"},r.a.createElement("p",null,"Search poly model"),r.a.createElement(Rn.a,{type:"text",value:this.state.query,onChange:function(n){return e.setState({query:n.target.value})}}),r.a.createElement(L.a,{type:"submit",onClick:this.search,color:"secondary",variant:"contained"},r.a.createElement(xn.a,null),"Search")),this.renderAssets(),r.a.createElement(Dn,{asset:this.state.currentAsset,showInfo:!0}))}}]),n}(a.Component),Vn=t(306),Bn=t(547),zn=t.n(Bn),Jn=t(38),Hn=t.n(Jn),Fn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},Wn=function(e){var n=e.record;return r.a.createElement("div",null,r.a.createElement(Hn.a,{color:"textSecondary",gutterBottom:!0},"Description"),r.a.createElement(Hn.a,null,n.description))},Yn=Object(j.a)(function(e){var n=e.record,t=e.translate;return r.a.createElement("span",null,t("resources.lessonModel.edit",{reference:n.name}))}),Kn={icon:zn.a,list:function(e){return r.a.createElement(bn.a,Object.assign({bulkActions:!1},e,{title:"resources.lessonModel.title"}),r.a.createElement(gn.a,{rowClick:"edit",expand:r.a.createElement(Wn,null)},r.a.createElement(yn.a,{source:"name"}),r.a.createElement(Ln.a,{source:"thumbnail",className:"thumbNailView",label:"resources.lessonModel.shape"}),r.a.createElement(yn.a,{source:"code"})))},edit:function(e){return r.a.createElement(wn.a,Object.assign({title:r.a.createElement(Yn,null)},e),r.a.createElement(On.a,{redirect:"list"},r.a.createElement(jn.a,{label:"info"},r.a.createElement(Tn.a,{source:"id"}),r.a.createElement(Nn.a,{source:"name",validate:Fn()}),r.a.createElement(qn.a,{source:"description",validate:Fn()})),r.a.createElement(jn.a,{label:"3dModel"},r.a.createElement(Vn.a,{name:"codeModel",component:Un,validate:Fn()}))))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"resources.lessonModel.create"},e),r.a.createElement(On.a,{redirect:"list"},r.a.createElement(jn.a,{label:"resources.info"},r.a.createElement(Nn.a,{source:"name",validate:Fn()}),r.a.createElement(qn.a,{source:"description",validate:Fn()})),r.a.createElement(jn.a,{label:"3dModel"},r.a.createElement(Vn.a,{name:"codeModel",component:Un,validate:Fn()}))))}},Zn=t(1089),Xn=t(1090),et=t(1107),nt=t(1093),tt=t(551),at=t.n(tt),rt=t(81),st=t.n(rt),ot=t(180),lt=t.n(ot),it=t(77),ct=t.n(it),ut=t(142),dt=t.n(ut),mt=t(50),ft=t.n(mt),pt=t(92),vt=t.n(pt),Et=t(295),ht=t.n(Et),bt=function(e){function n(e){var t;Object(l.a)(this,n),(t=Object(c.a)(this,Object(u.a)(n).call(this,e))).onValueChanges=function(){(0,t.props.input.onChange)(Object(D.a)({},t.state)),console.log(t.props.input)},t.renderList=function(e,n){var a=t.state[n],s=t.props.classes,o=a.map(function(e,a){return r.a.createElement("div",{key:n+"_"+a,className:s.flex},r.a.createElement(st.a,{className:s.flexItem,type:"text",margin:"normal",value:e,onBlur:t.onValueChanges,onChange:function(e){return t.updateItem(n,a,e.target.value)}}),r.a.createElement(ft.a,{key:n+"_del_"+a,"aria-label":"Delete",className:s.flexButton,onClick:function(e){return t.removeItem(n,a)}},r.a.createElement(vt.a,null)))});return r.a.createElement("div",{className:s.container},r.a.createElement("p",null,e),o,r.a.createElement(L.a,{onClick:function(e){return t.addItem(n)},color:"secondary",variant:"outlined"},r.a.createElement(ht.a,null),"Add"))},t.removeItem=function(e,n){var a=t.state[e];a.splice(n,1);var r={};r[e]=a,t.setState(r)},t.updateItem=function(e,n,a){var r=t.state[e];r[n]=a;var s={};s[e]=r,t.setState(s)},t.addItem=function(e){var n=t.state[e];n.push("");var a={};a[e]=n,t.setState(a)},t.renderAnswer=function(){var e=t.state,n=e.choices,a=e.answer,s=t.props.classes,o=n.filter(function(e){return!!e});return o.length>0?r.a.createElement("div",{className:s.column},r.a.createElement(dt.a,null,"Answer"),r.a.createElement(lt.a,{value:a,onChange:function(e){t.setState({answer:e.target.value})}},o.map(function(e){return r.a.createElement(ct.a,{key:e,value:e},e)}))):null};var a={};try{a=JSON.parse(e.input.value)}catch(s){}return t.state={title:a.title||"",video:a.video||"",instructions:a.instructions||[""],choices:a.choices||[""],hints:a.hints||[""],answer:a.answer||""},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.classes,a=n.withQuestions;return r.a.createElement("div",{className:t.container},r.a.createElement(st.a,{label:"Title",type:"text",margin:"normal",onBlur:this.onValueChanges,value:this.state.title,onChange:function(n){return e.setState({title:n.target.value})}}),r.a.createElement(st.a,{label:"Video",type:"text",margin:"normal",onBlur:this.onValueChanges,value:this.state.video,onChange:function(n){return e.setState({video:n.target.value})}}),this.renderList("Instructions","instructions"),a&&this.renderList("Hints","hints"),a&&this.renderList("Choices","choices"),a&&this.renderAnswer())}}]),n}(a.Component),gt=k()(Object(K.withStyles)({container:{display:"flex",flexDirection:"column"},columns:{display:"flex",flexDirection:"row"},column:{flex:1,display:"flex",flexDirection:"column"},flex:{display:"flex"},flexItem:{flex:1},flexButton:{alignSelf:"center"}}),j.a)(bt),yt=function(e,n){var t=e[n],a="";if("object"===typeof t)a=t.title;else try{a=JSON.parse(t).title}catch(r){console.log(t,"error")}return a},Lt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},wt=function(e){var n=e.record;return r.a.createElement("span",null,"Lesson ",n.title)},Ot={icon:at.a,list:function(e){return r.a.createElement(bn.a,e,r.a.createElement(gn.a,{rowClick:"edit"},r.a.createElement(yn.a,{label:"Model Name",source:"model.name"}),r.a.createElement(Zn.a,{label:"Lesson",render:function(e){return yt(e,"lesson")}})))},edit:function(e){return r.a.createElement(wn.a,Object.assign({title:r.a.createElement(wt,null)},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(Tn.a,{source:"id"}),r.a.createElement(et.a,{label:"LessonModel",source:"model.id",reference:"LessonModel",validate:Lt()},r.a.createElement(nt.a,{optionText:"name",optionValue:"id"})),r.a.createElement(Vn.a,{name:"lesson",component:gt,validate:Lt()})))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"Create a Lesson"},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(et.a,{label:"LessonModel",source:"model",reference:"LessonModel",validate:Lt()},r.a.createElement(nt.a,{optionText:"name",optionValue:"id"})),r.a.createElement(Vn.a,{name:"lesson",component:gt,validate:Lt()})))}},jt=t(1094),Tt=t(1108),Nt=t(1095),qt=t(1096),kt=t(553),Ct=t.n(kt),St=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},Rt=Object(j.a)(function(e){var n=e.record,t=e.translate;return r.a.createElement("span",null,t("resources.lesson.edit",{reference:n.name}))}),Mt={icon:Ct.a,list:function(e){return r.a.createElement(bn.a,Object.assign({},e,{title:"resources.lessonGroup.title"}),r.a.createElement(gn.a,{rowClick:"show"},r.a.createElement(yn.a,{source:"name"}),r.a.createElement(yn.a,{source:"lesson.model.name"})))},edit:function(e){return r.a.createElement(wn.a,Object.assign({title:r.a.createElement(Rt,null)},e),r.a.createElement(On.a,{redirect:"list"},r.a.createElement(jn.a,{label:"resources.lesson.label"},r.a.createElement(Nn.a,{source:"name",validate:St()}),r.a.createElement(et.a,{label:"Lessons",source:"lesson.id",reference:"Lesson"},r.a.createElement(nt.a,{optionText:"lesson",optionValue:"id"}))),r.a.createElement(jn.a,{label:"resources.question.label"},r.a.createElement(et.a,{label:"resources.question.label",source:"question.id",reference:"Question"},r.a.createElement(nt.a,{optionText:"question",optionValue:"id"}))),r.a.createElement(jn.a,{label:"resources.review.label"},r.a.createElement(et.a,{label:"resources.review.label",source:"review.id",reference:"Review"},r.a.createElement(nt.a,{optionText:"review",optionValue:"id"})))))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"Create a Lesson Group"},e),r.a.createElement(On.a,{redirect:"list"},r.a.createElement(jn.a,{label:"resources.lesson.label"},r.a.createElement(Nn.a,{source:"name",validate:St()}),r.a.createElement(et.a,{label:"Lessons",source:"lesson",reference:"Lesson"},r.a.createElement(nt.a,{optionText:"lesson",optionValue:"id"}))),r.a.createElement(jn.a,{label:"resources.question.label"},r.a.createElement(et.a,{label:"resources.question.label",source:"question",reference:"Question"},r.a.createElement(nt.a,{optionText:"question",optionValue:"id"}))),r.a.createElement(jn.a,{label:"resources.review.label"},r.a.createElement(et.a,{label:"resources.review.label",source:"review",reference:"Review"},r.a.createElement(nt.a,{optionText:"review",optionValue:"id"})))))},show:function(e){return r.a.createElement(jt.a,e,function(n){var t;return n.record&&n.record.lesson&&n.record.lesson.model&&(t=n.record.lesson.model.code),r.a.createElement(Tt.a,Object.assign({},e,n),r.a.createElement(Nt.a,null,r.a.createElement(yn.a,{source:"name"}),r.a.createElement(Dn,{assetUrl:t,width:400,height:400,showInfo:!0}),r.a.createElement(yn.a,{label:"resources.modelName",source:"lesson.model.name"}),r.a.createElement(yn.a,{label:"resources.description",source:"lesson.model.description"}),r.a.createElement(yn.a,{label:"resources.code",source:"lesson.model.code"}),r.a.createElement(qt.a,{source:"lesson.lesson",label:"resources.lesson.label"}),r.a.createElement(qt.a,{source:"question.question",label:"resources.question.label"}),r.a.createElement(qt.a,{source:"review.review",label:"resources.review.label"})))})}},xt=t(578),It=t(1097),Gt=t(1098),$t=t(554),At=t.n($t),Dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},Pt=Object(j.a)(function(e){var n=e.record,t=e.translate,a=(n.firstName||"")+(" "+n.lastName||!1);return r.a.createElement("span",null,t("resources.student.edit",{reference:a}))}),_t={icon:At.a,list:function(e){var n=e.permissions,t=Object(xt.a)(e,["permissions"]);return r.a.createElement(bn.a,Object.assign({bulkActions:!1},t),r.a.createElement(gn.a,{rowClick:"admin"===n?"edit":""},r.a.createElement(yn.a,{source:"firstName"}),r.a.createElement(yn.a,{source:"lastName"}),r.a.createElement(It.a,{source:"email"})))},edit:function(e){return r.a.createElement(wn.a,Object.assign({title:r.a.createElement(Pt,null)},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(Tn.a,{source:"id"}),r.a.createElement(Nn.a,{source:"email",validate:Object(Gt.a)(),type:"email"}),r.a.createElement(Nn.a,{source:"firstName",validate:Dt()}),r.a.createElement(Nn.a,{source:"lastName"})))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"Create a Student"},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(Nn.a,{source:"firstName",validate:Dt()}),r.a.createElement(Nn.a,{source:"lastName",validate:Dt()}),r.a.createElement(Nn.a,{source:"email",validate:Object(Gt.a)(),type:"email"}),r.a.createElement(Nn.a,{source:"password",type:"password",validate:Dt()})))}},Qt=t(555),Ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},Vt={icon:t.n(Qt).a,list:function(e){return r.a.createElement(bn.a,e,r.a.createElement(gn.a,{rowClick:"edit"},r.a.createElement(yn.a,{label:"Model",source:"model.name"}),r.a.createElement(Zn.a,{label:"resources.review.label",render:function(e){return yt(e,"review")}})))},edit:function(e){return r.a.createElement(wn.a,Object.assign({title:"resources.review.edit"},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(Tn.a,{source:"id"}),r.a.createElement(et.a,{label:"LessonModel",source:"model.id",reference:"LessonModel",validate:Ut()},r.a.createElement(nt.a,{optionText:"name",optionValue:"id"})),r.a.createElement(Vn.a,{name:"review",component:gt,validate:Ut()})))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"resources.review.create"},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(et.a,{label:"LessonModel",source:"model",reference:"LessonModel",validate:Ut()},r.a.createElement(nt.a,{optionText:"name",optionValue:"id"})),r.a.createElement(Vn.a,{name:"review",component:gt,validate:Ut()})))}},Bt=t(556),zt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},Jt={icon:t.n(Bt).a,list:function(e){return r.a.createElement(bn.a,e,r.a.createElement(gn.a,{rowClick:"edit"},r.a.createElement(yn.a,{label:"Model",source:"model.name"}),r.a.createElement(Zn.a,{label:"Question",render:function(e){return yt(e,"question")}})))},edit:function(e){return r.a.createElement(wn.a,Object.assign({title:"resources.question.edit"},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(Tn.a,{source:"id"}),r.a.createElement(et.a,{label:"LessonModel",source:"model.id",reference:"LessonModel",validate:zt()},r.a.createElement(nt.a,{optionText:"name",optionValue:"id"})),r.a.createElement(Vn.a,{name:"question",component:gt,validate:zt(),withQuestions:!0})))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"resources.question.create"},e),r.a.createElement(Xn.a,{redirect:"list"},r.a.createElement(et.a,{label:"LessonModel",source:"model",reference:"LessonModel",validate:zt()},r.a.createElement(nt.a,{optionText:"name",optionValue:"id"})),r.a.createElement(Vn.a,{name:"question",component:gt,validate:zt(),withQuestions:!0})))}},Ht=t(1110),Ft=t(1099),Wt=t(558),Yt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Required";return function(n){return n?void 0:e}},Kt=function(e){return"".concat(e.firstName," ").concat(e.lastName)},Zt=function(e){var n=e.record;return r.a.createElement("span",null,"Classroom ",n.name)},Xt={icon:t.n(Wt).a,list:function(e){return r.a.createElement(bn.a,Object.assign({bulkActions:!1},e),r.a.createElement(gn.a,{rowClick:"edit"},r.a.createElement(yn.a,{source:"name"}),r.a.createElement(yn.a,{label:"resources.classroom.teacher",source:"teacher.profile.firstName"}),r.a.createElement(yn.a,{source:"subject"}),r.a.createElement(Zn.a,{label:"resources.classroom.numberStudents",render:function(e){return e.students.length}}),r.a.createElement(Zn.a,{label:"resources.classroom.numberLessons",render:function(e){return e.lessons.length}})))},edit:function(e){var n=function(e){return e?"".concat(e.firstName," ").concat(e.lastName):""};return r.a.createElement(wn.a,Object.assign({title:r.a.createElement(Zt,null)},e),r.a.createElement(On.a,{redirect:"list"},r.a.createElement(jn.a,{label:"resources.info"},r.a.createElement(Tn.a,{source:"id"}),r.a.createElement(Nn.a,{source:"name",validate:Yt()}),r.a.createElement(et.a,{label:"Teacher",source:"teacher",reference:"Teacher",validate:Yt()},r.a.createElement(nt.a,{optionText:n,optionValue:"id"}))),r.a.createElement(jn.a,{label:"students"},r.a.createElement(Ht.a,{label:"Students",source:"students",reference:"Student"},r.a.createElement(Ft.a,{optionText:n,optionValue:"id"}))),r.a.createElement(jn.a,{label:"lessons"},r.a.createElement(Ht.a,{label:"resources.lesson.title",source:"lessons",reference:"LessonGroup"},r.a.createElement(Ft.a,{optionText:"name",optionValue:"id"})))))},create:function(e){return r.a.createElement(kn.a,Object.assign({title:"Create a Classroom"},e,{redirect:"list"}),r.a.createElement(On.a,{redirect:"list"},r.a.createElement(jn.a,{label:"info"},r.a.createElement(Nn.a,{source:"name",validate:Yt()}),r.a.createElement(Nn.a,{source:"subject",validate:Yt()}),r.a.createElement(et.a,{label:"Teacher",source:"teacher",reference:"Teacher",validate:Yt()},r.a.createElement(nt.a,{optionText:Kt,optionValue:"id"}))),r.a.createElement(jn.a,{label:"students"},r.a.createElement(Ht.a,{label:"Students",source:"students",reference:"Student"},r.a.createElement(Ft.a,{optionText:Kt,optionValue:"id"}))),r.a.createElement(jn.a,{label:"lessons"},r.a.createElement(Ht.a,{label:"Lessons",source:"lessons",reference:"LessonGroup"},r.a.createElement(Ft.a,{optionText:"name",optionValue:"id"})))))}},ea=t(559),na=function(e){var n=e.record;return r.a.createElement(qa,{title:"resources.classroom.name",list:n.classroomSet,basePath:"Classroom"})},ta={icon:t.n(ea).a,list:function(e){return r.a.createElement(bn.a,e,r.a.createElement(gn.a,{expand:r.a.createElement(na,null)},r.a.createElement(yn.a,{source:"id"}),r.a.createElement(yn.a,{source:"firstName"}),r.a.createElement(yn.a,{source:"lastName"}),r.a.createElement(It.a,{source:"email"})))}},aa=t(565),ra=t(1103),sa=t(283),oa=t(564),la=t.n(oa),ia=t(1065),ca=t(562),ua=t(309),da=t(155),ma=t(147),fa=t.n(ma),pa=t(560),va=t.n(pa),Ea=t(299),ha=t.n(Ea),ba=t(561),ga=t.n(ba),ya=k()(Object(K.withStyles)({listItem:{paddingLeft:"1rem"},listItemText:{paddingLeft:2,fontSize:"1rem"},sidebarIsOpen:{paddingLeft:25,transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"},sidebarIsClosed:{paddingLeft:0,transition:"padding-left 195ms cubic-bezier(0.4, 0, 0.6, 1) 0ms"}}),j.a)(function(e){var n=e.handleToggle,t=e.sidebarIsOpen,s=e.isOpen,o=e.name,l=e.icon,i=e.classes,c=e.children,u=e.translate;return r.a.createElement(a.Fragment,null,r.a.createElement(J.a,{dense:!0,button:!0,onClick:n,className:i.listItem},r.a.createElement(va.a,null,s?r.a.createElement(fa.a,null):l),r.a.createElement(F.a,{inset:!0,primary:s?u(o):"",secondary:s?"":u(o),className:i.listItemText})),r.a.createElement(ga.a,{in:s,timeout:"auto",unmountOnExit:!0},r.a.createElement(B.a,{dense:!0,component:"div",disablePadding:!0,className:t?i.sidebarIsOpen:i.sidebarIsClosed},c),r.a.createElement(ha.a,null)))}),La=function(e){function n(){var e,t;Object(l.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(t=Object(c.a)(this,(e=Object(u.a)(n)).call.apply(e,[this].concat(r)))).state={menuCatalog:!1,menuSales:!1,menuCustomers:!1},t.handleToggle=function(e){t.setState(function(n){return Object(sa.a)({},e,!n[e])})},t}return Object(d.a)(n,e),Object(i.a)(n,[{key:"render",value:function(){var e=this,n=this.props,t=n.onMenuClick,a=n.open,s=n.logout,o=n.translate;return r.a.createElement("div",null,r.a.createElement(ca.a,{onClick:t}),r.a.createElement(ua.a,{to:"/Classroom",primaryText:o("resources.classroom.name",{smart_count:2}),leftIcon:r.a.createElement(Xt.icon,null),onClick:t}),r.a.createElement(da.a,null,function(n){var s=n.permissions;return"Admin"===s?r.a.createElement(ya,{handleToggle:function(){return e.handleToggle("menuUsers")},isOpen:e.state.menuUsers,sidebarIsOpen:a,name:"pos.menu.users",icon:r.a.createElement(_t.icon,null)},r.a.createElement(ua.a,{to:"/Student",primaryText:o("resources.student.name",{smart_count:2}),leftIcon:r.a.createElement(_t.icon,null),onClick:t}),r.a.createElement(ua.a,{to:"/Teacher",primaryText:o("resources.teacher.name",{smart_count:2}),leftIcon:r.a.createElement(ta.icon,null),onClick:t})):"Teacher"===s?r.a.createElement(ua.a,{to:"/Student",primaryText:o("resources.student.myStudents",{smart_count:2}),leftIcon:r.a.createElement(_t.icon,null),onClick:t}):null}),r.a.createElement(ya,{handleToggle:function(){return e.handleToggle("menuLessons")},isOpen:this.state.menuLessons,sidebarIsOpen:a,name:"pos.menu.lessons",icon:r.a.createElement(Ot.icon,null)},r.a.createElement(ua.a,{to:"/LessonGroup",primaryText:o("resources.lessonGroup.name",{smart_count:2}),leftIcon:r.a.createElement(Mt.icon,null),onClick:t}),r.a.createElement(ua.a,{to:"/Lesson",primaryText:o("resources.lesson.name",{smart_count:2}),leftIcon:r.a.createElement(Ot.icon,null),onClick:t}),r.a.createElement(ua.a,{to:"/Review",primaryText:o("resources.review.name",{smart_count:2}),leftIcon:r.a.createElement(Vt.icon,null),onClick:t}),r.a.createElement(ua.a,{to:"/Question",primaryText:o("resources.question.name",{smart_count:2}),leftIcon:r.a.createElement(Jt.icon,null),onClick:t})),r.a.createElement(ua.a,{to:"/LessonModel",primaryText:o("resources.lessonModel.name",{smart_count:2}),leftIcon:r.a.createElement(Kn.icon,null),onClick:t}),r.a.createElement(ua.a,{to:"/configuration",primaryText:o("pos.configuration"),leftIcon:r.a.createElement(la.a,null),onClick:t}),r.a.createElement(Q.a,{small:s,medium:null}))}}]),n}(a.Component),wa=k()(ia.a,Object(v.b)(function(e){return{open:e.admin.ui.sidebarOpen,theme:e.theme,locale:e.i18n.locale}},{}),j.a)(La),Oa={palette:{type:"dark"}},ja={palette:{type:"light",background:{paper:"#fff",default:"#fafafa"},secondary:{light:"#73e8ff",main:"#29b6f6",dark:"#0086c3",text:"#fafafa",contrastText:"#fafafa"},primary:{light:"#ffd95b",main:"#ffa726",dark:"#c77800",text:"#424242",contrastText:"#424242"}}},Ta=function(e){return r.a.createElement(aa.a,Object.assign({},e,{size:250}))},Na=Object(v.b)(function(e){return{theme:"dark"===e.theme?Oa:ja}},{})(function(e){return r.a.createElement(ra.a,Object.assign({},e,{sidebar:Ta,menu:wa}))}),qa=k()(j.a)(function(e){var n=e.list,t=void 0===n?[]:n,a=e.basePath,s=e.title,o=e.translate;return r.a.createElement(B.a,{subheader:s&&r.a.createElement(Y.a,{component:"div"},o(s,t.length)),component:"nav"},t.map(function(e){return r.a.createElement(J.a,{key:"item_"+e.id,button:!0,component:"a",href:"#/".concat(a,"/").concat(e.id)},r.a.createElement(F.a,{primary:e.name}))}))}),ka=(t(1044),function(e){return"es"===e?t.e(3).then(t.bind(null,1112)).then(function(e){return e.default}):ce}),Ca=function(e){function n(){var e;return Object(l.a)(this,n),(e=Object(c.a)(this,Object(u.a)(n).call(this))).state={dataProvider:null},e}return Object(d.a)(n,e),Object(i.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(fn.a)({client:En,buildQuery:pn,introspection:!1}).then(function(n){return e.setState({dataProvider:n})})}},{key:"render",value:function(){var e=this.state.dataProvider;return e?r.a.createElement(r.a.Fragment,null,r.a.createElement(m.a,{loginPage:G,authProvider:M,dataProvider:e,dashboard:se,customRoutes:S,i18nProvider:ka,locale:"en",customReducers:{theme:oe},appLayout:Na},r.a.createElement(f.a,Object.assign({name:"Lesson"},Ot)),r.a.createElement(f.a,Object.assign({name:"Classroom"},Xt)),r.a.createElement(f.a,Object.assign({name:"Student"},_t)),r.a.createElement(f.a,Object.assign({name:"Teacher"},ta)),r.a.createElement(f.a,Object.assign({name:"LessonModel"},Kn)),r.a.createElement(f.a,Object.assign({name:"LessonGroup"},Mt)),r.a.createElement(f.a,Object.assign({name:"Question"},Jt)),r.a.createElement(f.a,Object.assign({name:"Review"},Vt))),r.a.createElement(hn,{text:"Redhouse 2019"})):r.a.createElement("div",null,"Loading")}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ca,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},490:function(e,n,t){},625:function(e,n,t){e.exports=t(1062)},960:function(e,n,t){}},[[625,1,2]]]);
//# sourceMappingURL=main.2a48db27.chunk.js.map